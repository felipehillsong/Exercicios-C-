@model IEnumerable<CRUD_Mapa.Models.Mapa>


@{
    ViewBag.Title = "Mapa";
}

@{
    Layout = null;
}
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
      integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
      crossorigin="" />
<script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
        integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
        crossorigin="">
</script>

<script src="https://code.jquery.com/jquery-3.4.1.js"></script>


<div id="map" style="height: 500px; border: 1px solid #AAA;"></div>

<script>
    var map = L.map('map', {
        center: [51.505, -0.9],
        minZoom: 4,
        zoom: 6
    });

    L.tileLayer('https://api.maptiler.com/maps/streets/{z}/{x}/{y}.png?key=El70fLOjVBkMeA1eit3s', {
        attribution: '© <a href="http://osm.org/copyright" title="OpenStreetMap" target="_blank">OpenStreetMap</a> contributors | Tiles Courtesy of <a href="http://www.mapquest.com/" title="MapQuest" target="_blank">MapQuest</a> <img src="http://developer.mapquest.com/content/osm/mq_logo.png" width="16" height="16">',
        subdomains: ['otile1', 'otile2', 'otile3', 'otile4']
    }).addTo(map);

</script>

@foreach (var item in Model)
{
    var longitude = item.Longitude;
    var latitude = item.Latitude;


    <script>
        var marker = L.marker([@latitude, @longitude]).addTo(map);    
    </script>

}

<p>
    @Html.ActionLink("Criar pontos", "Create")
</p>

<p>
    @Html.ActionLink("Lista de pontos cadastrados", "Lista")
</p>


